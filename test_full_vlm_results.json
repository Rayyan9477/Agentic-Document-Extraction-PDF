{
  "pdf_path": "superbill1.pdf",
  "page_count": 1,
  "total_vlm_calls": 5,
  "total_processing_time_ms": 55152,
  "layout_analysis": {
    "layout_type": "tabular_form",
    "layout_confidence": 0.98,
    "regions": [
      {
        "region_id": "header",
        "region_type": "header",
        "bounding_box": {
          "x": 0.0,
          "y": 0.0,
          "width": 1.0,
          "height": 0.12
        },
        "description": "Document title 'Patient List' with date, day, and total patient count.",
        "confidence": 0.99
      },
      {
        "region_id": "body",
        "region_type": "body",
        "bounding_box": {
          "x": 0.0,
          "y": 0.12,
          "width": 1.0,
          "height": 0.85
        },
        "description": "Main content area with patient data, findings, and plan sections organized in tabular format.",
        "confidence": 0.99
      },
      {
        "region_id": "footer",
        "region_type": "footer",
        "bounding_box": {
          "x": 0.0,
          "y": 0.95,
          "width": 1.0,
          "height": 0.05
        },
        "description": "Page number 'Page 1 of 21' at bottom right.",
        "confidence": 0.99
      }
    ],
    "column_count": 6,
    "reading_order": "table row-by-row, left-to-right across columns",
    "visual_separators": [
      "horizontal_lines",
      "boxes"
    ],
    "density_estimate": "moderate",
    "estimated_field_count": 60,
    "has_pre_printed_structure": true,
    "has_handwritten_content": false,
    "alignment_style": "grid-aligned",
    "spacing_quality": "normal",
    "visual_marks": [],
    "vlm_observations": "Document is a pre-printed form with a clear tabular structure for patient data. Each patient entry has consistent columns for name, sex, ID, type, DOB, and referring physician. Sections like 'INDICATIONS', 'FINDINGS', 'ICD CODES', and 'PLAN' are visually separated by horizontal lines and bold headers. No visual marks (checkboxes, ticks, etc.) are present.",
    "extraction_difficulty": "easy",
    "recommended_strategy": "table_extraction",
    "page_number": 1,
    "analysis_time_ms": 9478
  },
  "component_map": {
    "tables": [],
    "forms": [],
    "key_value_pairs": [],
    "visual_marks": [],
    "special_elements": [],
    "has_tabular_data": false,
    "has_form_fields": false,
    "has_narrative_text": true,
    "has_checkboxes": false,
    "has_signatures": false,
    "has_handwriting": false,
    "component_count": 0,
    "extraction_order": [],
    "challenging_regions": [],
    "suggested_extraction_strategies": {},
    "vlm_notes": "Document is a pre-printed form with tabular structure for patient data. No visual marks (checkboxes, ticks) are present. Textual content is organized in sections with bold headers, but no extractable components in the specified formats (tables, form fields, key-value pairs) are visually identifiable with the required structure. All data appears as narrative text under section headers.",
    "page_number": 1,
    "detection_time_ms": 3702
  },
  "adaptive_schema": {
    "schema_id": "adaptive_20240515_001",
    "document_type_description": "Patient list document for a medical procedure, containing patient demographics, procedural findings, ICD and CPT codes, and follow-up plans. Designed for internal use to track patient cases and procedural outcomes.",
    "field_groups": [
      {
        "group_name": "patient_demographics",
        "field_names": [
          "patient_name",
          "patient_sex",
          "patient_id",
          "patient_dob",
          "referring_physician"
        ],
        "group_type": "patient_demographics",
        "extraction_strategy": "table_extraction",
        "component_ids": [
          "patient_row_1",
          "patient_row_2",
          "patient_row_3"
        ]
      },
      {
        "group_name": "procedural_details",
        "field_names": [
          "sedation",
          "indications",
          "findings",
          "icd_codes",
          "plan",
          "cpt_codes"
        ],
        "group_type": "custom",
        "extraction_strategy": "section_extraction",
        "component_ids": [
          "section_indications",
          "section_findings",
          "section_icd",
          "section_plan",
          "section_cpt"
        ]
      }
    ],
    "fields": [
      {
        "field_name": "patient_name",
        "display_name": "Patient Name",
        "field_type": "text",
        "description": "Full name of the patient as listed in the patient list.",
        "source_component_id": "patient_row_1",
        "location_hint": "Top-left, under 'PATIENT NAME' header, first row",
        "required": true,
        "confidence_threshold": 0.95,
        "validation_hints": [
          "Must be non-empty",
          "Format: Last, First MI"
        ],
        "examples": [
          "Escamilla, Maria A."
        ]
      },
      {
        "field_name": "patient_sex",
        "display_name": "Patient Sex",
        "field_type": "text",
        "description": "Sex of the patient indicated in parentheses next to the name.",
        "source_component_id": "patient_row_1",
        "location_hint": "Same row as patient_name, in column (SEX)",
        "required": true,
        "confidence_threshold": 0.95,
        "validation_hints": [
          "Must be 'M' or 'F'"
        ],
        "examples": [
          "(F)",
          "(M)"
        ]
      },
      {
        "field_name": "patient_id",
        "display_name": "Patient ID/MRN",
        "field_type": "text",
        "description": "Unique patient identifier or medical record number.",
        "source_component_id": "patient_row_1",
        "location_hint": "Same row as patient_name, in column 'PATIENT ID/MRN'",
        "required": true,
        "confidence_threshold": 0.95,
        "validation_hints": [
          "Must be alphanumeric",
          "Format: alphanumeric string"
        ],
        "examples": [
          "MARESC002",
          "ANDLOZ000"
        ]
      },
      {
        "field_name": "patient_dob",
        "display_name": "Patient Date of Birth",
        "field_type": "date",
        "description": "Date of birth of the patient in MM/DD/YYYY format.",
        "source_component_id": "patient_row_1",
        "location_hint": "Same row as patient_name, in column 'DOB'",
        "required": true,
        "confidence_threshold": 0.95,
        "validation_hints": [
          "Must be valid date",
          "Format: MM/DD/YYYY"
        ],
        "examples": [
          "05/28/1937",
          "01/21/1951"
        ]
      },
      {
        "field_name": "referring_physician",
        "display_name": "Referring Physician",
        "field_type": "text",
        "description": "Name of the physician who referred the patient.",
        "source_component_id": "patient_row_1",
        "location_hint": "Same row as patient_name, in column 'REFERRING PHYSICIAN'",
        "required": true,
        "confidence_threshold": 0.95,
        "validation_hints": [
          "Must be non-empty",
          "Format: Last, First M.D."
        ],
        "examples": [
          "Yazji, Monzer, M.D.",
          "Samuel Ramirez Jr M.D."
        ]
      },
      {
        "field_name": "sedation",
        "display_name": "Sedation Details",
        "field_type": "text",
        "description": "Details of sedation administered during the procedure.",
        "source_component_id": "patient_row_1",
        "location_hint": "Under 'SEDATION' header, following patient row",
        "required": false,
        "confidence_threshold": 0.85,
        "validation_hints": [
          "Must be non-empty",
          "Format: Drug name and dosage"
        ],
        "examples": [
          "Propofol 160 mg IV"
        ]
      },
      {
        "field_name": "indications",
        "display_name": "Indications",
        "field_type": "text",
        "description": "Clinical reason for the procedure, including ICD-10 code.",
        "source_component_id": "section_indications",
        "location_hint": "Under 'INDICATIONS' header, following patient row",
        "required": true,
        "confidence_threshold": 0.9,
        "validation_hints": [
          "Must be non-empty",
          "Format: Description - ICD-10 code"
        ],
        "examples": [
          "History of colonic polyps - Z86.010"
        ]
      },
      {
        "field_name": "findings",
        "display_name": "Findings",
        "field_type": "text",
        "description": "Procedural findings including normal and abnormal findings.",
        "source_component_id": "section_findings",
        "location_hint": "Under 'FINDINGS' header, following indications",
        "required": true,
        "confidence_threshold": 0.85,
        "validation_hints": [
          "Must be non-empty",
          "Format: Normal (Anatomical Region) or Not Seen (Anatomical Region)"
        ],
        "examples": [
          "Normal (Anal Canal)",
          "Not Seen (Ileum)"
        ]
      },
      {
        "field_name": "icd_codes",
        "display_name": "ICD Codes",
        "field_type": "text",
        "description": "ICD-10 codes for diagnoses related to the procedure.",
        "source_component_id": "section_icd",
        "location_hint": "Under 'ICD CODES' header, following findings",
        "required": true,
        "confidence_threshold": 0.9,
        "validation_hints": [
          "Must be non-empty",
          "Format: Diagnosis Description - ICD-10 code"
        ],
        "examples": [
          "Polyp of sigmoid colon - D12.5"
        ]
      },
      {
        "field_name": "plan",
        "display_name": "Plan",
        "field_type": "text",
        "description": "Follow-up plan or instructions after the procedure.",
        "source_component_id": "section_plan",
        "location_hint": "Under 'PLAN' header, following ICD codes",
        "required": true,
        "confidence_threshold": 0.85,
        "validation_hints": [
          "Must be non-empty",
          "Format: Action or instruction"
        ],
        "examples": [
          "Wait for pathology report",
          "Follow up colonoscopy in 5 years"
        ]
      },
      {
        "field_name": "cpt_codes",
        "display_name": "CPT Codes",
        "field_type": "text",
        "description": "CPT codes for the procedures performed.",
        "source_component_id": "section_cpt",
        "location_hint": "Under 'CPT Codes' header, following plan",
        "required": true,
        "confidence_threshold": 0.9,
        "validation_hints": [
          "Must be non-empty",
          "Format: CPT Code - Description"
        ],
        "examples": [
          "45380 - Colonoscopy with biopsy"
        ]
      }
    ],
    "total_field_count": 11,
    "overall_strategy": "table_extraction",
    "component_strategies": {
      "patient_rows": "Extract row-by-row with column mapping",
      "sections": "Extract section-by-section with header-based grouping"
    },
    "suggested_validations": {
      "patient_dob": [
        "Must be valid date",
        "Must be in past",
        "Format: MM/DD/YYYY"
      ],
      "patient_id": [
        "Must be alphanumeric",
        "Length: 8 characters"
      ],
      "icd_codes": [
        "Must contain at least one ICD-10 code",
        "Format: Description - ICD-10 code"
      ],
      "cpt_codes": [
        "Must contain at least one CPT code",
        "Format: CPT Code - Description"
      ]
    },
    "cross_field_relationships": [],
    "high_confidence_fields": [
      "patient_name",
      "patient_dob",
      "patient_id",
      "referring_physician",
      "indications",
      "findings",
      "icd_codes",
      "plan",
      "cpt_codes"
    ],
    "optional_fields": [],
    "generation_time_ms": 20198,
    "vlm_reasoning": "",
    "schema_confidence": 0.5
  },
  "merged_extraction": {
    "patient_name": "Escamilla, Maria A.",
    "patient_sex": "(F)",
    "patient_id": "MARESC002",
    "patient_dob": "05/28/1937",
    "referring_physician": "Yazji, Monzer, M.D.",
    "sedation": "Propofol 160 mg IV",
    "indications": "History of colonic polyps - Z86.010",
    "findings": "Normal (Anal Canal)\nFirst degree hemorrhoids (Rectum)\nFour quadrants of the analrectal junction were injected with 0.5 ml of tetradecyl sulfate for a total of 2 ml. (Rectum)\nSessile Polyp . Polypectomy done using biopsy forceps (Sigmoid Colon)\nNormal (Descending Colon)\nNormal (Splenic Flexure)\nNormal (Transverse Colon)\nNormal (Hepatic Flexure)\nNormal (Ascending Colon)\nNormal (Ileocecal Valve)\nNormal (Cecum)\nNot Seen (Ileum)",
    "icd_codes": "Polyp of sigmoid colon - D12.5\nFirst degree hemorrhoids - K64.0",
    "plan": "Wait for pathology report\nHigh fiber diet needed\nFollow up colonoscopy in 5 years",
    "cpt_codes": "45380 - Colonoscopy with biopsy\n46500 - Injection to hemorrhoids\nG8918 - No preop IV antibiotics needed.\nG8907 - No fall, burn, hospital transfer or wrong patient or site."
  },
  "field_metadata": {
    "patient_name": {
      "field_name": "patient_name",
      "value": "Escamilla, Maria A.",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    },
    "patient_sex": {
      "field_name": "patient_sex",
      "value": "(F)",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    },
    "patient_id": {
      "field_name": "patient_id",
      "value": "MARESC002",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    },
    "patient_dob": {
      "field_name": "patient_dob",
      "value": "05/28/1937",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    },
    "referring_physician": {
      "field_name": "referring_physician",
      "value": "Yazji, Monzer, M.D.",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    },
    "sedation": {
      "field_name": "sedation",
      "value": "Propofol 160 mg IV",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    },
    "indications": {
      "field_name": "indications",
      "value": "History of colonic polyps - Z86.010",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    },
    "findings": {
      "field_name": "findings",
      "value": "Normal (Anal Canal)\nFirst degree hemorrhoids (Rectum)\nFour quadrants of the analrectal junction were injected with 0.5 ml of tetradecyl sulfate for a total of 2 ml. (Rectum)\nSessile Polyp . Polypectomy done using biopsy forceps (Sigmoid Colon)\nNormal (Descending Colon)\nNormal (Splenic Flexure)\nNormal (Transverse Colon)\nNormal (Hepatic Flexure)\nNormal (Ascending Colon)\nNormal (Ileocecal Valve)\nNormal (Cecum)\nNot Seen (Ileum)",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    },
    "icd_codes": {
      "field_name": "icd_codes",
      "value": "Polyp of sigmoid colon - D12.5\nFirst degree hemorrhoids - K64.0",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    },
    "plan": {
      "field_name": "plan",
      "value": "Wait for pathology report\nHigh fiber diet needed\nFollow up colonoscopy in 5 years",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    },
    "cpt_codes": {
      "field_name": "cpt_codes",
      "value": "45380 - Colonoscopy with biopsy\n46500 - Injection to hemorrhoids\nG8918 - No preop IV antibiotics needed.\nG8907 - No fall, burn, hospital transfer or wrong patient or site.",
      "confidence": 0.85,
      "confidence_level": "high",
      "pass1_value": null,
      "pass2_value": null,
      "passes_agree": true,
      "location_hint": "",
      "validation_passed": true,
      "validation_errors": [],
      "source_page": 1,
      "is_hallucination_flag": false
    }
  },
  "status": "extracting"
}