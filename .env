# =============================================================================
# Local Agentic Medical Document Extraction System
# Environment Configuration Template
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=doc-extraction-system
APP_VERSION=2.0.0
APP_ENV=development
DEBUG=false
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# LM Studio VLM Configuration
# -----------------------------------------------------------------------------
LM_STUDIO_BASE_URL=http://localhost:1234/v1
LM_STUDIO_MODEL=qwen/qwen3-vl-8b
LM_STUDIO_MAX_TOKENS=10000
LM_STUDIO_TEMPERATURE=0.1
LM_STUDIO_TIMEOUT=120
LM_STUDIO_MAX_RETRIES=3
LM_STUDIO_RETRY_MIN_WAIT=2
LM_STUDIO_RETRY_MAX_WAIT=30

# -----------------------------------------------------------------------------
# PDF Processing Configuration
# -----------------------------------------------------------------------------
PDF_DPI=300
PDF_MAX_PAGES=100
PDF_MAX_FILE_SIZE_MB=50
PDF_TEMP_DIR=./temp/pdf
PDF_OUTPUT_FORMAT=PNG
PDF_ENABLE_ENHANCEMENT=true

# -----------------------------------------------------------------------------
# Image Enhancement Configuration
# -----------------------------------------------------------------------------
IMAGE_ENABLE_DESKEW=true
IMAGE_ENABLE_DENOISE=true
IMAGE_ENABLE_CONTRAST=true
IMAGE_CLAHE_CLIP_LIMIT=2.0
IMAGE_CLAHE_TILE_SIZE=8
IMAGE_DENOISE_STRENGTH=10
IMAGE_DESKEW_MAX_ANGLE=45.0

# -----------------------------------------------------------------------------
# Memory Configuration (Mem0)
# -----------------------------------------------------------------------------
MEM0_ENABLED=true
MEM0_VECTOR_STORE=faiss
MEM0_EMBEDDING_MODEL=all-MiniLM-L6-v2
MEM0_TOP_K=5
MEM0_SIMILARITY_THRESHOLD=0.7
MEM0_DATA_DIR=./data/memory

# -----------------------------------------------------------------------------
# Extraction Pipeline Configuration
# -----------------------------------------------------------------------------
EXTRACTION_DUAL_PASS_ENABLED=true
EXTRACTION_MAX_RETRIES=2
EXTRACTION_CONFIDENCE_AUTO_ACCEPT=0.85
EXTRACTION_CONFIDENCE_RETRY=0.50
EXTRACTION_CONFIDENCE_HUMAN_REVIEW=0.50
EXTRACTION_BATCH_SIZE=5

# -----------------------------------------------------------------------------
# Validation Configuration
# -----------------------------------------------------------------------------
VALIDATION_ENABLE_HALLUCINATION_DETECTION=true
VALIDATION_ENABLE_MEDICAL_CODE_CHECK=true
VALIDATION_ENABLE_CROSS_FIELD_RULES=true
VALIDATION_STRICT_MODE=true

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false
API_CORS_ORIGINS=["http://localhost:8505"]

# -----------------------------------------------------------------------------
# Task Queue Configuration (Celery)
# -----------------------------------------------------------------------------
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TASK_TIME_LIMIT=600
CELERY_TASK_SOFT_TIME_LIMIT=540

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# CRITICAL: These keys were regenerated for security. NEVER commit to git!
# Generated with cryptographically secure random tokens
SECRET_KEY=-Sze6IqgIuCZIcO7RjRFyAYZuUyDcTtHutPAIKwWVfl_kM6_JCZcx-JimD6uEWt744_tI55vydTRQEGajHa-rQ
ENCRYPTION_KEY=le1p3BBQj7UMCaor74M21j-inkhQ9smVeB3qQMcRUnw
JWT_SECRET_KEY=fkahe7j8bThQKs06PbPaLi0lfrXtv4FGUUSZov0Mr7mjNWTzXwBg3YGHd55DZjrAm0s9oJrKl8vv0aWUNmytUA
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# HIPAA Compliance Configuration
# -----------------------------------------------------------------------------
HIPAA_AUDIT_ENABLED=true
HIPAA_AUDIT_LOG_PATH=./logs/audit
HIPAA_DATA_RETENTION_DAYS=90
HIPAA_SECURE_DELETE_PASSES=3
HIPAA_PHI_MASKING_ENABLED=true
HIPAA_ENCRYPT_AT_REST=true

# -----------------------------------------------------------------------------
# Export Configuration
# -----------------------------------------------------------------------------
EXPORT_OUTPUT_DIR=./output
EXPORT_EXCEL_ENABLED=true
EXPORT_JSON_ENABLED=true
EXPORT_INCLUDE_METADATA=true
EXPORT_INCLUDE_CONFIDENCE_SCORES=true

# -----------------------------------------------------------------------------
# Streamlit UI Configuration
# -----------------------------------------------------------------------------
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_THEME_BASE=light
STREAMLIT_MAX_UPLOAD_SIZE_MB=50

# -----------------------------------------------------------------------------
# Monitoring Configuration
# -----------------------------------------------------------------------------
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_COLLECTION_INTERVAL=15

# -----------------------------------------------------------------------------
# Database Configuration (SQLite for local storage)
# -----------------------------------------------------------------------------
DATABASE_URL=sqlite:///./data/extraction.db
DATABASE_ECHO=false

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log
LOG_FILE_MAX_SIZE_MB=100
LOG_FILE_BACKUP_COUNT=5
LOG_INCLUDE_TIMESTAMP=true
LOG_INCLUDE_CALLER=true
